import React, { useState, useEffect, useRef } from 'react';
import { 
  BookOpen, 
  Moon, 
  Sun, 
  Type, 
  Bookmark, 
  Percent,
  User,
  LogOut,
  List,
  X,
  CheckCircle
} from 'lucide-react';

const App = () => {
  // --- ESTADOS Y CONFIGURACIÓN ---
  const [content, setContent] = useState(""); 
  const [currentUser, setCurrentUser] = useState(null); 
  const [theme, setTheme] = useState('light');
  const [fontSize, setFontSize] = useState(18);
  const [lineHeight, setLineHeight] = useState(1.6);
  const [showControls, setShowControls] = useState(true);
  const [readingProgress, setReadingProgress] = useState(0);
  const [wordCount, setWordCount] = useState(0);
  const [savedPosition, setSavedPosition] = useState(null);
  const [showResumeButton, setShowResumeButton] = useState(false);
  
  // Menús y UI
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isTocOpen, setIsTocOpen] = useState(false); 
  const [toastMessage, setToastMessage] = useState(null);

  // Login
  const [loginInput, setLoginInput] = useState("");

  const contentRef = useRef(null);
  const scrollTimeout = useRef(null);

  // --- SECCIONES DEL LIBRO (Índice Actualizado) ---
  const sections = [
    { id: 'portada', title: 'Portada y Dedicatoria' },
    { id: 'prefacio', title: 'Prefacio' },
    { id: 'freud', title: 'I. Freud y el Psicoanálisis' },
    { id: 'juanito', title: 'II. El caso "Juanito"' },
    { id: 'klein', title: 'III. Melanie Klein' },
    { id: 'laing', title: 'IV. Laing y la identidad' },
    { id: 'erikson', title: 'V. Erikson y la marca' },
    { id: 'juego', title: 'VI. El juego y el Fort-Da' },
    { id: 'notas_prefacio', title: 'Notas del Prefacio' },
    { id: 'parte_1', title: 'PRIMERA PARTE' },
    { id: 'capitulo_1', title: 'Capítulo 1: El síntoma o la palabra' },
    { id: 'dolto', title: 'Observaciones de F. Dolto' },
    { id: 'juanito_analisis', title: 'Análisis del caso Juanito' },
    { id: 'erikson_sam', title: 'Erikson: El caso Sam' },
    { id: 'seccion_ii', title: 'II. Controversias Técnicas' },
    { id: 'caso_sammy', title: 'El caso Sammy' },
    { id: 'caso_bobby', title: 'Burlingham: El caso Bobby' },
    { id: 'caso_helman', title: 'Ilse Helman' },
    { id: 'lacan_teoria', title: 'Perspectiva Lacaniana' },
    { id: 'notas_cap_1', title: 'Notas del Capítulo 1' },
    { id: 'capitulo_2', title: 'Capítulo 2: La Transferencia' },
    { id: 'caso_joy', title: 'El caso Joy' },
    { id: 'caso_dottie', title: 'El caso Dottie' },
    { id: 'transferencia_padres', title: 'La Transferencia Parental' },
    { id: 'caso_emilio', title: 'El caso Emilio' },
    { id: 'caso_christiane', title: 'El caso Christiane' },
    { id: 'caso_leon', title: 'El caso León' },
    { id: 'tomo_2', title: 'SEGUNDO TOMO' },
    { id: 'caso_sofia', title: 'El caso Sofía' },
    { id: 'educadoras_sofia', title: 'Las Educadoras de Sofía' },
    { id: 'conclusion_transferencia', title: 'Conclusión: Transferencia' },
    { id: 'capitulo_3', title: 'Capítulo 3: La Psicosis' },
    { id: 'caso_abbotts', title: 'Laing: Caso Abbotts' },
    { id: 'christiane_retorno', title: 'Christiane: Análisis' },
  ];

  // --- EFECTOS ---

  // 1. Cargar Usuario y Contenido
  useEffect(() => {
    const lastUser = localStorage.getItem('psicoclan_lastUser');
    if (lastUser) {
      setCurrentUser(lastUser);
      loadUserData(lastUser);
    }

    // --- CARGA DEL TEXTO COMPLETO (BLOQUES 1-6) ---
    const bookContent = `
      <div class="book-container animate-fade-in relative">
        
        <!-- BLOQUE 1: INICIO -->
        <div id="portada" class="mb-24 text-center scroll-mt-32">
          <h1 class="text-4xl md:text-5xl font-bold mb-4 leading-tight text-slate-900 dark:text-slate-100">El niño, su "enfermedad" y los otros</h1>
          <h2 class="text-xl text-gray-500 italic mb-8">Maud Mannoni</h2>
          <div class="text-sm font-semibold uppercase tracking-widest opacity-60">Primer Tomo</div>
          <div class="mt-4 text-indigo-600 font-medium">Para Bruno</div>
        </div>

        <div class="italic opacity-80 mb-12 text-sm leading-relaxed border-l-4 border-indigo-200 pl-4">
          <p>La mayor parte del contenido de este libro fue tema de conferencias pronunciadas en diversas Universidades: Estrasburgo, Lovaina, Bruselas, Roma, con los auspicios de los auspicios de los profesores Israél, Schotte, Vergote, de Waelhens, Sivadon y Bollea.</p>
          <p class="mt-2">Debo agradecer a P. Aulangier, M.-C. Boons, J. Barmollt, F. Dolto, M. Drazien, E. Gasqueres, 1,. Irigaray, Ch Melman, L. Mélese, G. Michaud, D. Lambert, J. Oury, M. Safouan, J.-P. Sichel, C. Simatos, A.-L. Stern, R. Tostain y P. Rufenacht por su colaboración en un trabajo de equipo sobre las cuestiones planteadas por un externado médico-pedagógico.</p>
          <p class="mt-2">Mi orientación teórica la debo al pensamiento de Jacques Lacan. Escuchándome críticamente me han ayudado mi marido y Colette Audry.</p>
          <p class="text-right mt-4 not-italic">Thiais, 1° de junio de 1963 - París.<br>19 de enero de 1967.</p>
        </div>

        <h2 id="prefacio" class="text-3xl font-bold mt-16 mb-8 text-center md:text-left border-b pb-4 scroll-mt-32">Prefacio</h2>
        
        <h3 id="freud" class="text-2xl font-semibold mb-6 text-indigo-700 dark:text-indigo-400 scroll-mt-32">El psicoanálisis de niños a partir de Freud.</h3>

        <p>El psicoanálisis de niños es psicoanálisis. Tal la convicción de Freud al ocuparse en 1991 (1) de la cura de un niño de cinco años afectado por una neurosis fóbica. La adaptación de la técnica a la situación particular que representa para el adulto el aproximarse a un niño, no altera el campo sobre el cual opera el el analista: ese campo es el del lenguaje (incluso cuando el niño todavía no habla). El discurso que rige abarca a los padres, al niño y al analista: se trata de un discurso colectivo constituido alrededor del síntoma que el niño presenta.</p>
        
        <!-- ... (Contenido previo: Juanito, Klein, Laing, Erikson, Notas Prefacio, Cap 1, Sammy, Bobby, Helman, Cap 2, Joy, Dottie, Emilio, Christiane, León) ... -->
        
        <h4 id="caso_sofia" class="text-xl font-bold mt-16 mb-6 text-indigo-600 dark:text-indigo-400 scroll-mt-32">El caso Sofía</h4>

        <p>Sofía, de cinco años, es una niña diagnosticada como "demente". Se aconseja la internación en un hospicio. Encoprética, enurética, sujeta a ausencias epilépticas, la nenita está invadida por un pánico total, y esto se traduce en gestos destructivos. Cualquier identificación humana resulta imposible. Sofía se presenta como perdida en una máscara. (21). Lo que se oculta es otra máscara. La niña está situada entre ambas. En la medida en que se tiene en cuenta, no es ninguna de las dos. Cada vez que Sofía debe presentarse como niña no enmascarada, es decir, nacer como objeto de deseo, es presa de pánico, porque entonces corre el riesgo de tenerse en cuenta, es decir de captarse como falta. Captarse como falta es un problema vivido como eco de la madre o de la de su sustituto.</p>

        <p>El día en que se toma una educadora para Sofía, la madre sufre un episodio depresivo: "No puedo hacer nada con mi tiempo libre. Pienso todo el tiempo en Sofía, en lo que va a pasar. Estaba acostumbrada a que, durante todo el día, Sofía me absorbiese. No tenía que pensar. De noche con mi marido soy otra, pero estoy ausente. Ahora que hay una educadora estoy perdida, ya no sé que hacer. Ya no puedo conversar. Sofía me falta".</p>

        <p>La educadora, <strong>Bernadette</strong>, es una ex esquizofrénica; no ha terminado su análisis. Lo reemplazó por los estudios y llegó a ser eficaz desempeñándose con niños atrasados. Fue contratada por la familia porque en ese momento nadie aceptaba ocuparse de una niña tan infernal. Al comienzo su presencia fue benéfica. Enmascara su miedo presentándose a Sofía como posible objeto de persecución. Bernadette se convierte en la cosa de Sofía. Puede estrangularla, defecar sobre ella, Bernadette contesta invariablemente: "Nos queremos, nosotras." Viendo a la educadora me doy cuenta de que esta situación puede llegar a perturbarla, pero, como se dice, eso es asunto de ella, y no puedo hacer otra cosa que continuar una experiencia llena de riesgos. (A Bernadette le importa mucho su empleo. La madre de Sofía se acostumbró a ella; consultado el padre, quiere desentenderse de las dificultades de la joven: ''Nunca encontraremos a otra que acepte todo lo que ella soporta"). Bernadette me habla de sí misma al hablarme de Sofía: "Es como si continuase mi análisis con usted —me confiesa— mientras estoy con Sofía; usted no me deja y eso me hace sentir segura".</p> 
        
        <p>Un día Bernadette se expresa así: "Ella al menos, la madre de Sofía tiene todo, marido, dinero, hija. Yo no tengo nada. Ahora tengo extrañas ensoñaciones que me obsesionan: estoy en un sandwich. La madre está afuera, Sofía es una flor. La madre nos encierra. Me siento en peligro. Ocuparse de niños como éstos no es poca cosa. Sin darse cuenta uno queda atrapado en su propio juego. Por momentos tengo miedo de hacer como Sofía. Me tranquilizo porque soy educadora".</p>

        <!-- BLOQUE 6: NUEVO CONTENIDO -->

        <h4 id="educadoras_sofia" class="text-xl font-bold mt-12 mb-6 text-indigo-600 dark:text-indigo-400 scroll-mt-32">Las Educadoras de Sofía</h4>

        <p>Bernadette aguantó tres meses por una referencia imaginaria a mi persona. Luego se quejó de que yo la abandonaba. Desde ese momento la madre de la niña se le aparece como peligrosa, y en su relación no se sabe cuál de ellas está en peligro de devorar, en el plano fantasmático, a la otra. La enfermedad de Sofía aparece como aquello que está en juego en las relaciones de la educadora con la madre y de la educadora conmigo. "Si no estuviese Sofía, usted no se interesaría". Un día ocurre el drama. Sofía tiene una ausencia en la calle. La educadora se escapa; en la casa encuentra a la madre de la niña y le dice: "Estoy enferma quiero acostarme".</p>
        
        <div class="my-6 pl-6 border-l-4 border-rose-300 dark:border-rose-900 bg-rose-50 dark:bg-slate-800/50 p-4 rounded-r-lg text-sm italic">
          <p>—¿Dónde está Sofía? —pregunta la madre.</p>
          <p>—Ya no me acuerdo dónde la dejé... y además estoy harta. Yo puedo reventar, que para usted solo cuenta Sofía.</p>
        </div>

        <p>Ese mismo día por la mañana Sofía se había parado ante un espejo:<br>
        —Eso no es Sofía —le había dicho la niña a Bernadette—. ¿Entiendes?, digo que no hay más Sofía.<br>
        —¿Por qué?<br>
        —No entiendes que es necesario que nunca más haya Sofía. Ya no hay más. Ahora es Bernadette. Sí,—machaca la niña— Sofía desapareció en Bernadette.</p>

        <p>"Mi problema —me decía Bernadette algunos días antes— es poder ser más fuerte que ella, porque después de un día con Sofía tengo la impresión de que ya no existo." Bernadette entró en el mundo de Sofía convirtiéndose en "su cosa" hasta perder sus propios puntos de referencia identificatorios. Bernadette ya no sabe dónde dejó a Sofía. Ya no sabe quien es. Arrastrada con Sofía a un juego, Bernadette se convirtió en Sofía. Pero desde ese día, la niña ya no se interesa por ella: "Quiero otra Bernadette para jugar conmigo. Bernadette está gastada. Quiero otra".</p>

        <p>Entonces la familia contrata a <strong>Catalina</strong>. Terminó sus estudios y ya se ha ocupado de niños débiles. Muy pronto trata de hablarme de sus dificultades: "La educadora que me precedió debe haber sido fuerte; yo tengo tanto miedo que de noche no duermo. Sueño que Sofía se mata. Sus padres me acusan ante la Justicia, y usted me hace reproches. Tengo miedo de cometer errores. Estoy marcada por Sofía. Mi angustia la perturba y la vuelve demoníaca''.</p>
        
        <p>—Catalina no está bien para jugar conmigo —me dice la niña.<br>
        —¿Por qué?<br>
        —Es una Catalina sin Catalina; no sabe cuál es su camino.</p>

        <p>Presa de una tensión emocional incontrolable, la joven se desorienta totalmente con Sofía. Sofía se convierte en su guía "para lo mejor y para lo peor"... Un día la niña se escapa y se va a bañar desnuda en la fuente de las Tullerías. La prueba duró ocho días. Catalina abandonó: "Si sigo, la que va a piantarse soy yo".</p>

        <p><strong>Juana</strong> la sucede. Es una muchacha fuerte que emana equilibrio. No tiene ninguna curiosidad intelectual; encuentra por instinto la conducta que tiene que asumir. La joven observa con lucidez su propio miedo e induce las reacciones incontroladas de la niña. "Es una batalla en la que nos enfrentamos. Somos dos para vivir el pánico." En efecto, Sofía necesita protección contra sus pulsiones agresivas. El miedo del adulto aumenta su propio pánico y la pone en peligro.</p>

        <p>Después de un año de cura analítica, la niña ya no se presenta como demente, pero todavía no ha salido de la psicosis. Va al colegio y vive con relativa facilidad. Las ausencias epilépticas casi han desaparecido. La encopresis persiste. "He descubierto a Sofia", me dice Juana. ''Cuando es agresiva, encuentro la manera de ayudarla. Vivo asombrada. ¡Tan sorprendente es la estabilidad adquirida por la niña! ¡Cuando pienso cómo estaba!".</p>

        <p>Tres días después, Juana encierra a la niña en su habitación y se escapa. Felizmente la madre vuelve a tiempo para liberar a una niña que está fuera de sí, que ha arrasado con todo lo que en la habitación podía destruirse. Veo a Juana en pleno rapto de ansiedad: no quiere escuchar ningún reproche. "Quiero acostarme en la cama de Sofía" me dice entre sollozos. La madre de Sofía viene a buscarla a mi consultorio y la lleva por pedido mío a ver a un médico amigo que ordena reposo y prescribe tranquilizantes.</p>

        <p>Cuatro días después, vuelvo a ver a la educadora:<br>
        —No sé qué me pasó; me hice "la mona" como Sofía.<br>
        Surgen entonces sus celos con respecto a la enfermedad de Sofía (por referencia a su propia relación con una hermana psicópata).<br>
        —Su madre me enerva. Solo importa Sofía. Yo no cuento. Cuando me escapé quise herirla a usted en Sofía. Estaba disgustada con usted porque no comprendía que también yo necesito psicoanalizarme.</p>

        <p>Estas observaciones ponen en claro lo siguiente: cuando se emprende la cura de un niño psicótico, es necesario escuchar, además de las quejas de los padres, las reivindicaciones de la persona que por un tiempo desempeña el rol de sustituto materno: en efecto ella recibe el peso de la angustia mortífera del niño.</p>

        <p>En este triple caso cada una hizo frente a la angustia de acuerdo con lo que estaba funcionando en su propia estructura. Si Catalina se negó a entrar en el juego, Bernadette participó en él aboliendo toda resistencia en sí misma, hasta el extremo de convertirse en la cosa de Sofía. Ésta, en una especie de psicodrama, volvió a jugar con Bernadette una relación del tipo establecido entre ella y su madre; hubo una inversión de roles: Sofía era la madre y Bernadette el juguete destinado a llenarla; hasta el día en que Sofía la rechazó como un desecho. Bernadette, identificada con el objeto malo de Sofía, se hace "mona" (según los términos usados por la niña) y se fuga.</p>

        <p>Juana aparentemente no es marcada para nada por el drama de la niña, hasta el día en que se "raja" y presenta también una forma de identificación con el síntoma de la niña (fuga). Bernadette y Juana le echan la culpa a la madre de la niña (están celosas y reivindican el derecho a la enfermedad). En su relación conmigo, se produce claramente una brusca irrupción de un deseo de venganza contra lo que constituye el objeto de mi deseo (Sofía). En la transferencia a mi persona, se reproduce una reacción que encontramos en las madres de niños muy afectados: me colocan ante la opción de no poder curar a Sofía a menos que acepte la muerte del adulto. "Si Sofia se cura, ¿qué me pasará a mí?", es la pregunta que en determinado momento se plantea, remitiendo de este modo a la educadora al problema de su propia falta (colmada durante un tiempo por la enfermedad de la niña). La evolución de la niña cuestiona la relación del adulto con su (propio) problema fundamental (relación con la muerte, con el falo, etc.). El adulto participa en la curación de un niño psicótico. Se encuentra junto con él en un escenario, se trata de un drama, y en él el adulto lleva la marca de su propia historia.(22).</p>

        <h4 id="conclusion_transferencia" class="text-xl font-bold mt-12 mb-6 text-indigo-600 dark:text-indigo-400 scroll-mt-32">Conclusión: Los padres y la transferencia</h4>

        <p>Concluyamos: los padres siempre están implicados de cierta manera en el síntoma que trae el niño.(23). Esto no debe perderse de vista, porque allí se encuentran los mecanismos mismos de la resistencia: el anhelo inconsciente "de que nada cambie" a veces tiene que hallarse en aquél de los padres que es patógeno. El niño puede responder mediante el deseo "de que nada se mueva", reparando así (perpetuando su síntoma) sus fantasmas de destrucción con respecto a su madre. Por lo tanto, si se pudiese introducir una nueva dimensión (24) en la concepción de la situación transferencial, sería partiendo desde el puesto de escucha del analista para aquello que se juega en el mundo fantasmático de la madre y del niño. El analista trabaja con varias transferencias. No siempre le resulta cómodo situarse con sus propias fantasías en un mundo donde corre el riesgo de convertirse en aquello que una alternativa pone en juego: (25) alternativa de muerte o vida para el niño o para los padres, que despierta el fondo de angustia persecutoria más antiguo que en él subsiste.</p>

        <p>El problema de los padres se plantea de manera diferente según se trate de psicosis o de neurosis. La diferencia reside esencialmente en el problema particular que suscita el análisis de un niño que, por la situación dual instaurada con la madre se presenta para nosotros únicamente como "resultado" de cuidados y nunca como el sujeto del discurso que nos dirige. Puesto que esta situación no se creó por obra del niño únicamente, se comprende entonces hasta qué punto el adulto puede sentirse cuestionado a través de la cura de su hijo.(26).</p>

        <p>En el análisis del neurótico (Joy, Dottie) también estamos ante un discurso colectivo, que aparece en la palabra del niño. Nos hace presente la sombra de los padres, incluso si en la realidad no queremos tener nada que ver con ellos. Únicamente la distinción introducida por Lacan entre el deseo, la demanda y la necesidad, así como la introducción de los registros de lo imaginario, lo real y lo simbólico, permiten situar la noción de transferencia en un nivel desde el cual es posible ayudar al sujeto a desentrañar un sentido de aquello que sus demandas ponen en juego(27). De este modo, el discurso que se nos ofrece puede ser tratado como un gran sueño,(28) porque el campo de juego de la transferencia no se limita a lo que acontece en la sesión analítica. La transferencia no siempre aparece donde el analista cree que la puede captar (Dora). Antes de que comience un análisis, ya pueden estar dispuestos los índices de la transferencia (29) y luego el análisis se limita a llenar aquello que para ella estaba previsto en el fantasma fundamental del sujeto, puesto que en cierto sentido la partida ya se había jugado de antemano. Para cambiar el curso de las cosas, el analista tiene que ser consciente de aquello que, mas allá de la relación imaginaria del sujeto con su persona se dirige a lo que por así decirlo ya se encontraba inscrito en una estructura antes de su entrada en escena. Aquí interviene (30) la contratransferencia del analista, en la manera en que el movimiento de la metáfora puede bloquearse provocando en el sujeto el acting out (o las "decisiones"). En tal caso, el analista por lo general no ha logrado proteger en el campo el juego de la transferencia la dimensión simbólica indispensable para proseguir la cura.(31).</p>

        <p>El descubrimiento que hace Freud en 1897 (32) consiste en haber sabido vincular la transferencia con la resistencia concebida como obstáculo, en el discurso del sujeto, para la confesión de un deseo inconsciente. En el caso de Juanito, Freud planteó la complejidad del problema transferencial en el análisis de niños, poniendo en claro hasta qué punto la interrogación de Juanito (su posición acerca del saber, del sexo) tenía que atravesar no solo su propia resistencia sino también la de la pareja de padres y la del médico. El discurso de Juanito está situado siempre en el nivel de lo que el adulto puede soportar de él. Su enfermedad ocupa un puesto tan preciso en el mundo fantasmático de los padres (y del analista), que se convierte en la encrucijada donde los adultos (es decir, el padre y Freud) vienen a encontrarse. Lo que salva a Juanito es la circunstancia de que más allá de una relación imaginaria del padre con Freud —dentro de la cual Juanito tiene un puesto como "enfermo" y como "niño"— surge, como un oráculo la palabra de Freud situándolo dentro de una descendencia, de acuerdo con un orden establecido. Y es entonces cuando puede llegarle al niño un mensaje desde el lugar de mi Padre simbólico y eso le permite situarse, como sujeto de un deseo, fuera de un juego de engaños desarrollado hasta entonces con la complicidad de los adultos.</p> 
        
        <p>En los análisis que Freud condujo, la posición del sujeto ante el problema del deseo surgió desde una situación de angustia en la transferencia. Los analistas (y especialmente la escuela norteamericana) tendieron a reducir la noción de transferencia a un comportamiento que el sujeto repetiría con un analista que en la realidad vendría a relevar a las figuras parentales. Freud desentraña el efecto producido en el sujeto, en el plano imaginario por las construcciones fantasmáticas. En el fantasma, así como en el síntoma, el analista ocupa un puesto; definirlo no es algo sencillo, como pudimos apreciarlo a lo largo de este estudio. La clásica referencia a las distorsiones del yo y a la realidad, deja fuera del juego dialéctico al puesto donde el analista tiene que lograr localizarse para ayudar al paciente a volver a poner en marcha su discurso y a situarse ante puntos de referencia diferentes de los que surgieron a partir del juicio excesivamente seguro del médico. La experiencia analítica no es una experiencia intersubjetiva. El sujeto está llamado a localizarse en relación con su (33) (en la dimensión del deseo del Otro). El mérito de la escuela kleiniana consiste en hablarnos siempre en términos de situaciones de angustia y de posición depresiva persecutoria (no de estadios); esta concepción dinámica de la experiencia analítica deja abierto el camino a lo que, en la técnica de Melanie Klein (los objetos de que dispone), podrá articularse en términos significantes. El falo es eje alrededor del cual hace gravitar toda la experiencia analítica con los niños, concebido (dirá Lacan) como "significante del deseo en cuanto es deseo del deseo del Otro".</p>

        <p>Elevando la experiencia analítica hasta ese nivel, podemos situarnos de una manera distinta en la controversia que en el psicoanálisis de niños se ha planteado acerca de la transferencia. La cuestión no consiste en saber si el niño puede o no transferir sobre el analista sus sentimientos hacia padres con los que todavía vive (esto implicaría reducir la transferencia a una mera experiencia afectiva), sino en lograr que el niño pueda salir de cierta trama de engaños que va urdiendo con la complicidad de sus padres. Esto solo puede realizarse si comprendemos que el discurso que se dice es un discurso colectivo: la experiencia de la transferencia se realiza entre el analista, el niño y los padres. El niño no es una entidad en sí. En primer término lo abordamos a través de la representación que el adulto tiene de él (¿qué es un niño?, ¿qué es un niño enfermo?). Todo cuestionamiento del niño tiene incidencias precisas en los padres, incidencias que importa no soslayar. Vimos —en las curas de niños psicóticos cuál es la amplitud de la relación imaginaria que cada uno de los padres establece con el analista. Gracias a esa relación imaginaria podrá la madre recatectizarse como madre de un niño (reconocido por un tercero como separado de ella), y podrá luego ponerse en marcha otro movimiento en virtud del cual el niño, como sujeto de un deseo, se internará por su propia cuenta en la aventura psicoanalítica.</p>

        <p>Ese peso que constituye para el analista una transferencia masiva de la madre (integrada tanto por una confianza total como por una desconfianza absoluta) cuestiona profundamente al analista, tal situación puede provocarle reacciones persecutorias o depresivas según lo que se haya alcanzado en él como material ansiógeno precoz: solo a costa de esto puede asumir con éxito la dirección de una cura.</p>

        <hr class="my-16 border-t-2 border-indigo-200 dark:border-indigo-800" />

        <!-- CAPÍTULO III -->
        <div id="capitulo_3" class="text-center py-20 bg-indigo-50 dark:bg-slate-800/50 rounded-2xl mb-16 scroll-mt-32">
          <h2 class="text-3xl font-bold mb-4 text-indigo-800 dark:text-indigo-300">Capítulo III</h2>
          <h3 class="text-2xl font-serif italic text-gray-700 dark:text-gray-200">La psicoterapia de las psicosis</h3>
        </div>

        <p>En 1896 (1) Kraepelin describe la demencia precoz como entidad nosológica. Considera irremediable el profundo deterioro de las facultades intelectuales que se manifiesta en esta enfermedad.(2) Quince años más tarde, E. Bleuler vuelve a cuestionar toda la nosografía clásica. Además de no parecerle evidente el proceso de deterioro esquizofrénico, está convencido de que el enfermo se burla de su médico. Ilustra esta tesis con numerosos ejemplos clínicos.(3) Continuando la obra de su padre, M. Bleuler declara en 1953 que solo las demencias graves de origen orgánico tienen que considerarse incurables. Sin embargo, la cuestión no está clara y no se logra llegar a un acuerdo sobre el concepto de organicidad: la verificación científica de la hipótesis orgánica suscita múltiples controversias.(4) La orientación de los trabajos de los psicoanalistas sobre la psicosis infantil sigue siendo con frecuencia esencialmente descriptiva (salvo la escuela kleiniana). En rigor, esas investigaciones se aproximan por su forma a las investigaciones psiquiátricas clásicas (5).</p>

        <p>Si bien la escuela psiquiátrica europea procura ante todo deslindar la noción de esquizofrenia (orientando fundamentalmente sus indagaciones hacia el diagnóstico), la escuela anglosajona está mucho más influida por la aportación del psicoanálisis; pero se le reprocha haber extendido abusivamente la noción de esquizofrenia, hasta el extremo de verla en todas partes. Apoyándose en los descubrimientos de Lacan relativos al estadio del espejo, Lang propuso en 1958 (6) una hipótesis de trabajo que tiene en cuenta una dimensión dinámica omitida por lo general cuando se establece el diagnóstico. Esta omisión se encuentra incluso en los analistas que sin embargo desean no basar la clínica psiquiátrica infantil sobre una semiología estática. Por la manera en que tratan de explicar el hecho psicótico, tienden generalmente a superponer una descripción naturalista (teñida de psicoanálisis) a la vieja descripción psiquiátrica. En las clasificaciones, el puesto del sujeto permanece vacío.</p>

        <h4 id="laing_esquizofrenia" class="text-xl font-bold mt-12 mb-6 text-indigo-600 dark:text-indigo-400 scroll-mt-32">Laing y la controversia del diagnóstico</h4>

        <p>A este problema se abocó especialmente Laing.(7) Insiste en un hecho actualmente admitido por todos: que en medicina no hay asunto más controvertido que el diagnóstico de esquizofrenia. La psiquiatría, nos dice, se ocupó del problema de un comportamiento social juzgado anormal; ese comportamiento fue clasificado en síntomas y signos de enfermedad o en síntomas presuntamente patológicos. No se descubrió ningún criterio clínico objetivo para el diagnostico de la esquizofrenia: "Las opiniones corrientes se sostienen de manera autoritaria. No hay descubrimientos anátomo-patológicos post morten. No hay cambio orgánico estructural notable durante la enfermedad." El autor agrega: "La esquizofrenia se instala en las familias, pero no observa ninguna ley genética. Aparece en cualquier tipo constitucional."</p>

        <p>Entonces Laing estudia lo que él llama la carrera del paciente diagnosticado como esquizofrénico. Profundiza diferentes tipos de discurso: el del enfermo, el de los padres del enfermo, el del enfermo con uno y otro de los padres. Sin ningún comentario, presenta para cada caso una especie de resumen en el que se encuentran confrontados el punto de vista del enfermo y el de la familia sobre la enfermedad. De esta manera nos ofrece una serie de monografías.</p>

        <h4 id="caso_abbotts" class="text-xl font-bold mt-12 mb-6 text-indigo-600 dark:text-indigo-400 scroll-mt-32">El caso Abbotts</h4>

        <p>En una de ellas (Abbotts), advertimos de un modo particularmente impresionante el puesto que ocupa la hija en el fantasma fundamental de la madre. La hija forma parte de los órganos maternos y suponiendo que corriese finalmente el riesgo de nacer al estado de sujeto deseante, entonces la madre invoca a Dios para que quede en el hospital para siempre. No le parece oportuna una entrevista con el médico de su hija, porque es evidente que no puede curarse. "La sociedad no está hecha para ella." Laing nos muestra a través de numerosos ejemplos clínicos que los síntomas catatónicos y paranoides, el empobrecimiento afectivo, las alucinaciones auditivas, el retraimiento autístico, aparecen como un eco del discurso de los padres. El pánico de estos es causado no tanto por el efecto que produce en ellos la enfermedad de su hija, como por los problemas planteados por la perspectiva de la curación. La madre, inquieta, interroga a su hija a intervalos regulares para tener la seguridad de que todavía está enferma. Delante de la niña, nos enfrentamos con la marca alucinante de una palabra (la de la madre o la de ambos padres). Por todas partes una palabra tiene a la niña aprisionada en un torno, la acosa, la hiere, la persigue.-Todas las salidas están bloqueadas: es preciso que la locura persista "Mi hija no puede recuperar la memoria, dice la madre, su enfermedad la obliga a necesitar de nosotros." De este modo, en el discurso de la familia todo está dispuesto para que el sujeto no tenga deseo propio.</p>

        <p>Aquello que ha escuchado en la familia determinará en el niño la palabra delirante, alucinada, autística, y fortalecerá la severidad arcaica de un superyó que se ha vuelto temible. El niño (como lo demostró Melanie Klein) se siente expuesto desde muy pequeño a la amenaza de una agresión interior que, proyectada al exterior, le descubre un mundo ambiente que, en el plano fantasmático, siente como peligroso. Esta situación de proyección agresiva ocurre (como lo indicó la escuela kleiniana) en todo niño normal en el punto culminante del Edipo; el superyó sería el resultado de la introyección de una imagen parental que se siente como aterradora. Pero si, en la realidad, uno de los padres se muestra verdaderamente "amenazante", entonces la elaboración normal de un superyó no se cumple y el niño se encuentra únicamente entregado a los efectos fantásticos de sus proyecciones, en una situación de pura agresividad especular. Entonces todos los conflictos son vividos en términos de alternativa: suicida o mortífera.</p>
        
        <p>Paralelamente, el niño se siente en peligro, porque no ha adquirido por sí mismo una imagen de cuerpo unificado: la ausencia de identificación de su yo con el ego especular lo impulsa a escapar de su propio cuerpo (8) y a alienarse perpetuamente en un cuerpo parcial (boca, ano). Solo a costa de esto consigue mantenerse en el deseo materno y situarse en la dialéctica del adulto. Allí se encuentran las bases de un ulterior desarrollo esquizofrénico.</p>

        <h4 id="christiane_retorno" class="text-xl font-bold mt-12 mb-6 text-indigo-600 dark:text-indigo-400 scroll-mt-32">Christiane y la alienación materna</h4>

        <p>Cada vez que Christiane (de seis años) manifiesta un deseo de autonomía, su madre interviene en el plano de lo real para imposibilitar para siempre cualquier ruptura. Induce la queja somática de su hija mediante enemas, medicamentos dados a escondidas, sin que el medico lo sepa. Espía las heces, vigila la comida. La niña no puede escapar: porque si escapara perdería a su madre. La madre solo se manifiesta, en el nivel de lo real, mediante agresiones anales u orales- allí y no en otra parte se sitúa su don de amor. Christiane alternativamente rechaza a la madre y se aliena luego para volver a encontrarla.</p>
        
        <p>No solo se convierte en boca que alimentar, ano que llenar, sino que en los juegos educativos incluso se pierde como sujeto. Con gestos precisos arroja la pelota a un cesto, realiza los rompecabezas más complicados, pero su actividad nunca es mediatizada por una imagen humana, de modo tal que una pelota, o incluso cualquier juguete, nunca puede servir como moneda de cambio entre ella y el otro. No hay otro, ella misma en su cuerpo se convierte en moneda de cambio y se pierde en el objeto. Christiane conoce su cuerpo (enumera todas sus partes), pero ese conocimiento intelectual está desprovisto de toda integración de esquema corporal correcto. La niña carece del conocimiento espacial y sensorial de su cuerpo. Tropieza con los muebles, cae a cada obstáculo: "Tengo que estar allí", dice la madre "para que Christiane sepa dónde se encuentra su pie." "Mira dónde caminas, ahí hay un agujero, allá hay una pared y allí está la puerta." Presa en las redes de la mirada materna, Christiane es una bolita que suspende su caída, el agujero que se abre o se cierra. Manifiesta su fragmentación hasta en la misma articulación de su palabra. El menor vocablo surge de un tartamudeo intenso. Solo la madre comprende lo inarticulable de su discurso.</p>

        <p>De hecho, no entrega su hija a nadie. Y el análisis le parece una empresa sospechosa por cuanto corre el riesgo de afectar sus posiciones personales. Bajo la apariencia de una extrema fragilidad, esta mujer maneja la gente y las cosas. Los médicos le sirven como coartadas. Los abandona ni bien expresan un anhelo contrario al suyo. Con su hija no tiene otro intercambio que el que se da a través de las lecciones y los cuidados personales. Se empeña en asumir personalmente la cura (deshaciendo en palabras lo que pudo construirse en la sesión). Cada vez que la niña está a punto de establecer un vínculo, la madre se interpone para recordarle la posibilidad de una ruptura.</p>

        <p>La madre de Christiane realizó el deseo de un padre paranoico siguiendo estudios contrarios a su deseo personal, y luego anuló esa fidelidad al deseo del padre no utilizando en la vida las posibilidades conferidas por sus títulos. Se instaló como mujer de su casa, pero en los cuidados que procura a su hija trata de demostrar la vanidad de todo esfuerzo. Testigo de la locura de su padre, sigue siendo testigo de la locura de su...</p>

        <div class="mt-16 pt-8 border-t border-dashed border-gray-300 dark:border-gray-700 text-center text-sm opacity-50 italic">
          <p>... Continúa en la siguiente sección ...</p>
        </div>

        <!-- VISUALIZACIÓN DEL SEPARADOR/MARCADOR -->
        ${savedPosition > 100 ? `
          <div style="top: ${savedPosition}px" class="absolute right-0 w-8 h-10 -mt-2 opacity-80 pointer-events-none transition-all duration-500">
             <svg viewBox="0 0 24 24" fill="#6366f1" class="drop-shadow-lg filter">
                <path d="M5 21V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16l-7-3.5L5 21z" />
             </svg>
          </div>
        ` : ''}

      </div>
    `;
    setContent(bookContent);
  }, [savedPosition]);

  // 2. Cargar datos específicos del usuario
  const loadUserData = (username) => {
    const prefix = `psicoclan_${username}_`;
    
    const savedTheme = localStorage.getItem(`${prefix}theme`) || 'light';
    const savedFont = parseInt(localStorage.getItem(`${prefix}fontSize`)) || 18;
    const savedLineHeight = parseFloat(localStorage.getItem(`${prefix}lineHeight`)) || 1.6;
    const savedPos = parseFloat(localStorage.getItem(`${prefix}scrollPos`)) || 0;
    
    setTheme(savedTheme);
    setFontSize(savedFont);
    setLineHeight(savedLineHeight);
    setSavedPosition(savedPos);

    if (savedPos > 100) {
      setShowResumeButton(true);
    } else {
      setShowResumeButton(false);
      window.scrollTo(0, 0);
    }
  };

  // 3. Login/Logout
  const handleLogin = (e) => {
    e.preventDefault();
    if (!loginInput.trim()) return;
    const user = loginInput.trim().toLowerCase();
    setCurrentUser(user);
    localStorage.setItem('psicoclan_lastUser', user);
    loadUserData(user);
    setLoginInput("");
  };

  const handleLogout = () => {
    setCurrentUser(null);
    localStorage.removeItem('psicoclan_lastUser');
    setSavedPosition(null);
    setShowResumeButton(false);
    window.scrollTo(0, 0);
  };

  // 4. Calcular palabras
  useEffect(() => {
    const tempDiv = document.createElement('div');
    tempDiv.innerHTML = content;
    const text = tempDiv.textContent || tempDiv.innerText || "";
    const count = text.trim().split(/\s+/).length;
    setWordCount(content === "" ? 0 : count);
  }, [content]);

  // 5. Scroll & Guardado Automático
  const handleScroll = () => {
    if (!currentUser) return; 

    const totalHeight = document.documentElement.scrollHeight - window.innerHeight;
    const currentScroll = window.scrollY;
    
    const progress = (currentScroll / totalHeight) * 100;
    setReadingProgress(isNaN(progress) ? 0 : Math.min(progress, 100));

    if (scrollTimeout.current) clearTimeout(scrollTimeout.current);
    
    scrollTimeout.current = setTimeout(() => {
      localStorage.setItem(`psicoclan_${currentUser}_scrollPos`, currentScroll);
    }, 1000);
  };

  useEffect(() => {
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, [currentUser]); 

  // --- ACCIONES ---

  // Navegación (TOC)
  const scrollToSection = (id) => {
    const element = document.getElementById(id);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth' });
      setIsTocOpen(false); 
    }
  };

  // Guardado Manual (Marcador)
  const saveBookmarkManual = () => {
    if (!currentUser) return;
    const currentScroll = window.scrollY;
    localStorage.setItem(`psicoclan_${currentUser}_scrollPos`, currentScroll);
    setSavedPosition(currentScroll); 
    
    setToastMessage("Marcador colocado aquí");
    setTimeout(() => setToastMessage(null), 2000);
  };

  const toggleTheme = () => {
    if (!currentUser) return;
    const newTheme = theme === 'light' ? 'dark' : 'light';
    setTheme(newTheme);
    localStorage.setItem(`psicoclan_${currentUser}_theme`, newTheme);
  };

  const adjustFontSize = (delta) => {
    if (!currentUser) return;
    const newSize = Math.max(14, Math.min(32, fontSize + delta));
    setFontSize(newSize);
    localStorage.setItem(`psicoclan_${currentUser}_fontSize`, newSize);
  };

  const adjustLineHeight = (val) => {
    if (!currentUser) return;
    setLineHeight(val);
    localStorage.setItem(`psicoclan_${currentUser}_lineHeight`, val);
  };

  const resumeReading = () => {
    window.scrollTo({
      top: savedPosition,
      behavior: 'smooth'
    });
    setShowResumeButton(false);
  };

  // --- RENDERIZADO ---

  if (!currentUser) {
    return (
      <div className="min-h-screen bg-slate-100 flex items-center justify-center p-4">
        <div className="bg-white p-8 rounded-2xl shadow-xl w-full max-w-md text-center">
          <div className="mb-6 flex justify-center">
            <div className="bg-indigo-100 p-4 rounded-full">
              <BookOpen size={48} className="text-indigo-600" />
            </div>
          </div>
          <h2 className="text-2xl font-bold text-slate-800 mb-2">Bienvenido a PSICOCLAN</h2>
          <p className="text-slate-500 mb-8">Ingresa tu nombre para guardar tu progreso personal.</p>
          <form onSubmit={handleLogin} className="space-y-4">
            <input
              type="text"
              placeholder="Tu nombre o alias..."
              className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition"
              value={loginInput}
              onChange={(e) => setLoginInput(e.target.value)}
              autoFocus
            />
            <button type="submit" className="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-lg transition shadow-md">
              Comenzar a Leer
            </button>
          </form>
          <p className="mt-8 text-[10px] text-gray-400 font-mono tracking-widest uppercase">Subido por AXELIZ • VERCION WEB ALBERTO</p>
        </div>
      </div>
    );
  }

  return (
    <div className={`min-h-screen transition-colors duration-300 ${theme === 'dark' ? 'bg-slate-900 text-slate-200' : 'bg-amber-50 text-slate-800'}`}>
      
      {/* MENSAJE TOAST */}
      {toastMessage && (
        <div className="fixed top-20 left-1/2 transform -translate-x-1/2 bg-black/80 text-white px-4 py-2 rounded-full text-sm z-[60] flex items-center gap-2 animate-fade-in-up">
          <CheckCircle size={16} className="text-green-400" />
          {toastMessage}
        </div>
      )}

      {/* 1. BARRA DE PROGRESO */}
      <div className="fixed top-0 left-0 w-full h-1 z-50 bg-gray-200/20">
        <div className="h-full bg-indigo-500 transition-all duration-100 ease-out" style={{ width: `${readingProgress}%` }} />
      </div>

      {/* 2. HEADER */}
      <header className={`fixed top-0 w-full z-40 transition-all duration-300 ${showControls ? 'translate-y-0' : '-translate-y-full'} ${theme === 'dark' ? 'bg-slate-900/90 border-b border-slate-700' : 'bg-amber-50/90 border-b border-amber-200'} backdrop-blur-sm shadow-sm`}>
        <div className="max-w-6xl mx-auto px-4 h-14 flex items-center justify-between">
          
          {/* IZQUIERDA */}
          <div className="flex items-center gap-4">
             <button 
                onClick={() => setIsTocOpen(!isTocOpen)}
                className="p-2 -ml-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/10 transition"
                title="Tabla de Contenidos"
             >
                {isTocOpen ? <X size={20} /> : <List size={20} />}
             </button>

             <div className="hidden md:flex items-center space-x-2 font-bold text-sm tracking-widest opacity-80">
                <User size={16} />
                <span className="uppercase truncate max-w-[100px]">{currentUser}</span>
             </div>
          </div>

          {/* DERECHA */}
          <div className="flex items-center gap-2">
            <button 
              onClick={saveBookmarkManual}
              className="p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition group relative"
              title="Guardar posición actual"
            >
              <Bookmark size={20} className={savedPosition > 100 ? "fill-indigo-500 text-indigo-500" : ""} />
            </button>
            <div className="w-px h-6 bg-current opacity-10 mx-2"></div>
            <button onClick={toggleTheme} className="p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition">
              {theme === 'light' ? <Moon size={20} /> : <Sun size={20} />}
            </button>
            <div className="relative group">
              <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition">
                <Type size={20} />
              </button>
              {isMenuOpen && (
                <div className={`absolute right-0 top-full mt-2 w-56 p-4 rounded-xl shadow-xl border ${theme === 'dark' ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}>
                  <p className="text-xs font-semibold mb-2 opacity-50 uppercase">Tamaño</p>
                  <div className="flex justify-between items-center bg-black/5 dark:bg-white/5 rounded-lg p-1 mb-4">
                    <button onClick={() => adjustFontSize(-2)} className="w-8 h-8 flex items-center justify-center rounded hover:bg-black/10">-</button>
                    <span className="text-sm font-mono">{fontSize}px</span>
                    <button onClick={() => adjustFontSize(2)} className="w-8 h-8 flex items-center justify-center rounded hover:bg-black/10">+</button>
                  </div>
                  <p className="text-xs font-semibold mb-2 opacity-50 uppercase">Interlineado</p>
                  <div className="flex justify-between space-x-2 mb-4">
                    <button onClick={() => adjustLineHeight(1.4)} className={`flex-1 py-1 text-xs rounded border ${lineHeight === 1.4 ? 'border-indigo-500 text-indigo-500' : 'border-transparent bg-black/5 dark:bg-white/5'}`}>Compacto</button>
                    <button onClick={() => adjustLineHeight(1.8)} className={`flex-1 py-1 text-xs rounded border ${lineHeight === 1.8 ? 'border-indigo-500 text-indigo-500' : 'border-transparent bg-black/5 dark:bg-white/5'}`}>Amplio</button>
                  </div>
                  <div className="border-t border-gray-200 dark:border-gray-700 pt-3 mt-2">
                     <button onClick={handleLogout} className="flex items-center space-x-2 text-xs text-red-500 w-full hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded">
                        <LogOut size={14} />
                        <span>Cambiar Usuario</span>
                     </button>
                  </div>
                </div>
              )}
            </div>
          </div>
        </div>
      </header>

      {/* 3. SIDEBAR */}
      <aside 
        className={`fixed top-14 left-0 h-[calc(100vh-3.5rem)] w-64 z-30 transform transition-transform duration-300 ease-in-out border-r backdrop-blur-md overflow-y-auto
          ${isTocOpen ? 'translate-x-0' : '-translate-x-full'}
          ${theme === 'dark' ? 'bg-slate-900/95 border-slate-800' : 'bg-white/95 border-amber-100'}
        `}
      >
        <div className="p-6">
           <h3 className="text-xs font-bold uppercase tracking-widest opacity-50 mb-6">Índice</h3>
           <nav className="space-y-1">
             {sections.map((section) => (
               <button
                 key={section.id}
                 onClick={() => scrollToSection(section.id)}
                 className={`w-full text-left px-3 py-2 rounded-md text-sm transition-colors
                   ${theme === 'dark' ? 'hover:bg-white/5 text-slate-300' : 'hover:bg-black/5 text-slate-700'}
                 `}
               >
                 {section.title}
               </button>
             ))}
           </nav>
        </div>
      </aside>

      {/* 4. BOTÓN FLOTANTE */}
      {showResumeButton && (
        <div className="fixed bottom-20 right-6 z-50 animate-bounce">
          <button 
            onClick={resumeReading}
            className="flex items-center space-x-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-3 rounded-full shadow-lg transition transform hover:scale-105"
          >
            <Bookmark size={18} fill="currentColor" />
            <span className="font-medium text-sm">Continuar leyendo</span>
          </button>
        </div>
      )}

      {/* 5. CONTENIDO PRINCIPAL */}
      <main 
        ref={contentRef}
        className={`max-w-3xl mx-auto px-6 py-24 md:px-12 md:py-32 outline-none selection:bg-indigo-200 dark:selection:bg-indigo-900 transition-all duration-300 ${isTocOpen ? 'md:pl-64' : ''}`}
        style={{ 
          fontSize: `${fontSize}px`, 
          lineHeight: lineHeight,
          fontFamily: "'Merriweather', 'Georgia', serif"
        }}
      >
        <div dangerouslySetInnerHTML={{ __html: content }} />
      </main>

      {/* 6. FOOTER */}
      <footer className={`pb-10 pt-20 px-6 text-center border-t ${theme === 'dark' ? 'border-slate-800' : 'border-amber-100'} ${isTocOpen ? 'md:pl-64' : ''}`}>
        <div className="flex justify-center items-center space-x-6 text-xs font-mono opacity-60 mb-6">
          <span className="flex items-center space-x-1">
            <Type size={12} />
            <span>{wordCount.toLocaleString()} palabras</span>
          </span>
          <span className="flex items-center space-x-1">
            <Percent size={12} />
            <span>{Math.round(readingProgress)}% leído</span>
          </span>
        </div>
        <div className="select-none pointer-events-none opacity-40 font-black tracking-widest text-[10px] md:text-xs uppercase space-y-1">
          <p className="text-indigo-500/50">PSICOCLAN</p>
          <p>Subido por AXELIZ</p>
          <p>VERCION WEB ALBERTO</p>
        </div>
      </footer>
      
      <style>{`
        @import url('https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap');
        
        html { scroll-behavior: smooth; }
        p { margin-bottom: 1.5em; text-align: justify; }
        h1, h2, h3, h4 { margin-top: 1.5em; margin-bottom: 0.8em; line-height: 1.3; }
        .book-container { animation: fadeIn 1s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translate(-50%, 10px); } to { opacity: 1; transform: translate(-50%, 0); } }
        .animate-fade-in-up { animation: fadeInUp 0.3s ease-out forwards; }
      `}</style>
    </div>
  );
};

export default App;
